# Performance results

All tests were performed using the setup described
[here](../../For developers/Performance_testing)
and two machines with the following specification:

- 2x Intel速 Xeon速 E5-2640 @ 2.50GHz, 24 logical cores,
- 64 GB of DDR3 RAM,
- 2x Intel速 82599 10 Gb Ethernet Port,
- 2x Intel速 I350 1 Gb Ethernet Port.

## TCP

![TCP Throughput [Mbps]](tcp-throughput.svg)

| Threads | Raw Hyper-V - Sender [Mbps] | Raw Hyper-V - Receiver [Mbps] | Contrail - Sender [Mbps] | Contrail - Receiver [Mbps] | % of Hyper-V | % of CPU - Hyper-V - Sender | % of CPU - Hyper-V - Receiver | % of CPU - Contrail - Sender | % of CPU - Contrail - Receiver |
|---------|-----------------------------|-------------------------------|--------------------------|----------------------------|--------------|-----------------------------|-------------------------------|------------------------------|--------------------------------|
| 1       | 1444.4524                   | 1444.122                      | 743.7092                 | 742.6128                   | 51.42%       | 0.91%                       | 2.79%                         | 1.96%                        | 2.78%                          |
| 2       | 2795.4788                   | 2795.0872                     | 1394.8996                | 1394.8912                  | 49.91%       | 1.61%                       | 5.32%                         | 3.78%                        | 5.17%                          |
| 4       | 4460.9844                   | 4460.3996                     | 2404.3604                | 2404.3528                  | 53.90%       | 2.71%                       | 9.07%                         | 6.92%                        | 9.42%                          |
| 6       | 5014.9336                   | 5014.9672                     | 3143.892                 | 3143.8708                  | 62.69%       | 3.47%                       | 10.43%                        | 9.71%                        | 12.14%                         |
| 8       | 5135.414                    | 5134.9136                     | 3270.4656                | 3270.4508                  | 63.69%       | 3.65%                       | 11.06%                        | 10.27%                       | 12.74%                         |
| 10      | 5672.1464                   | 5672.0464                     | 3777.248                 | 3777.2276                  | 66.59%       | 5.02%                       | 12.90%                        | 12.03%                       | 14.89%                         |
| 12      | 6424.514                    | 6424.4568                     | 3714.9492                | 3714.8936                  | 57.82%       | 5.93%                       | 14.55%                        | 12.24%                       | 14.70%                         |
| 14      | 6889.9208                   | 6889.7444                     | 4328.3296                | 4328.2364                  | 62.82%       | 6.41%                       | 15.46%                        | 15.06%                       | 17.45%                         |
| 16      | 6943.7104                   | 6943.5716                     | 4061.5212                | 4061.492                   | 58.49%       | 6.60%                       | 15.87%                        | 14.66%                       | 17.16%                         |
| 18      | 7041.1248                   | 7041.0632                     | 4237.8896                | 4237.8916                  | 60.19%       | 7.13%                       | 16.47%                        | 16.20%                       | 18.62%                         |
| 20      | 7160.0608                   | 7159.638                      | 4068.4088                | 4068.4116                  | 56.82%       | 7.23%                       | 16.89%                        | 16.01%                       | 17.79%                         |
| 22      | 7087.648                    | 7087.3748                     | 3921.0916                | 3921.0836                  | 55.32%       | 7.43%                       | 16.91%                        | 15.28%                       | 17.64%                         |
| 24      | 7113.6592                   | 7113.5276                     | 4675.3132                | 4675.2832                  | 65.72%       | 7.06%                       | 16.61%                        | 18.79%                       | 20.49%                         |


## UDP

![UDP Throughput [Mbps]](udp-throughput.svg)

| Threads | Raw Hyper-V - Sender [Mbps] | Raw Hyper-V - Receiver [Mbps] | Contrail - Sender [Mbps] | Contrail - Receiver [Mbps] | % of Hyper-V | % of CPU - Hyper-V - Sender | % of CPU - Hyper-V - Receiver | % of CPU - Contrail - Sender | % of CPU - Contrail - Receiver |
|---------|-----------------------------|-------------------------------|--------------------------|----------------------------|--------------|-----------------------------|-------------------------------|------------------------------|--------------------------------|
| 1       | 225.2296                    | 225.346                       | 622.5044                 | 256.5688                   | 113.86%      | 1.98%                       | 1.79%                         | 4.85%                        | 1.26%                          |
| 2       | 450.6592                    | 450.7124                      | 1079.654                 | 482.7032                   | 107.10%      | 4.13%                       | 4.48%                         | 9.55%                        | 2.37%                          |
| 4       | 900.9856                    | 901.6464                      | 1850.5632                | 898.2948                   | 99.63%       | 8.14%                       | 6.30%                         | 17.64%                       | 4.44%                          |
| 6       | 1351.7572                   | 1352.2848                     | 2446.7216                | 1221.2412                  | 90.31%       | 12.91%                      | 8.36%                         | 25.94%                       | 7.00%                          |
| 8       | 1801.6372                   | 1801.806                      | 2671.3668                | 1448.594                   | 80.40%       | 17.95%                      | 8.31%                         | 31.42%                       | 8.04%                          |
| 10      | 2253.2996                   | 2253.3708                     | 3052.776                 | 1706.3884                  | 75.73%       | 21.31%                      | 10.42%                        | 38.97%                       | 10.18%                         |
| 12      | 2702.1204                   | 2704.1804                     | 3444.5848                | 1839.2992                  | 68.02%       | 22.60%                      | 12.84%                        | 45.27%                       | 11.92%                         |
| 14      | 3151.0788                   | 3154.8836                     | 3784.9828                | 2138.8664                  | 67.80%       | 25.81%                      | 15.20%                        | 51.57%                       | 13.91%                         |
| 16      | 3593.6164                   | 3398.0876                     | 3975.2216                | 2207.3464                  | 64.96%       | 38.06%                      | 17.64%                        | 57.90%                       | 16.39%                         |
| 18      | 3589.344                    | 3589.8764                     | 4175.4916                | 2220.9852                  | 61.87%       | 40.00%                      | 18.77%                        | 64.57%                       | 17.74%                         |
| 20      | 3516.6584                   | 3479.6724                     | 4406.2384                | 2272.4316                  | 65.31%       | 40.70%                      | 18.23%                        | 73.07%                       | 17.68%                         |
| 22      | 3540.0012                   | 3492.4404                     | 4519.2404                | 2358.2228                  | 67.52%       | 43.16%                      | 18.31%                        | 81.53%                       | 20.30%                         |
| 24      | 3646.9292                   | 3647.4112                     | 4162.3708                | 2256.6728                  | 61.87%       | 45.72%                      | 19.21%                        | 79.75%                       | 18.64%                         |
